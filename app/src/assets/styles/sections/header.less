@bootton_width: 200px;
@menu_height: 90px;

.header {
  position: relative;
  min-height: @menu_height;
  padding-top: 10px;
  .row-flex();
  align-items: center;
  justify-content: space-between;
  flex-wrap: nowrap;

  .md_1-block({
      margin-bottom: 10px;
   });

  .md_2-block({
   flex-direction: column;
   justify-content: space-around;
   transition: all 0.3s ease 0s;
   margin-bottom: 0px;

});

  .logo {
    .col();
    .size(3);
    .size-sm(8);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #647786; // todo смена цвета фона через redux
    z-index: 7;

    .to(400px, {
      width: 160px;
   });

    img {
      .adaptive-prop(width, 212, 180);
      .adaptive-prop(height, 45, 30);
    }
  }

  .heder-menu__burger {
    display: none;

    .to(767px,{
      display: block;
      position: absolute;
      top: @offset_one_side;
      left: @offset_one_side;
      .adaptive-prop(width, 40, 30);
      .adaptive-prop(height, 25, 20);
      cursor: pointer;
      z-index: 5;

      &::before, &::after, span {
         content: '';
         transition: top 0.9s ease 0s;
      }

      &::before,
      &::after,
      span {
         position: absolute;
         background-color: #647786;
         width: 100%;
         .adaptive-prop(height, 3, 2);
      }

      &::before {
         top: 0px;
      }

      &::after {
         top: 100%;
      }

      span {
         top: 50%;
         transform: translate(0%, -50%);
         transition: top opacity 0.9s ease 0s;
         opacity: 1;
      }

   });
  }

  .to(767px,{

   .heder-menu__burger-close {

      &::before {
         top: 50%;
         transform: translate(0%, -50%) rotate(45deg);
         transition: transform 0.9s ease 0s;
      }

      &::after {
         top: 50%;
         transform: translate(0%, -50%) rotate(-45deg);
         transition: transform 0.9s ease 0s;
      }

      span {
         opacity: 0;
      }
   }

});

  .heder-menu {
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    font-family: Sintony, FiraSans;
    position: relative;
    z-index: 3;
    display: flex;
    justify-content: space-between;
    align-items: center;
    column-gap: 10px;
    visibility: hidden; // скрываю до момента формирования на странице потом показываю скриптом jQuery

    padding-top: 15px;

    .col();
    .size(6);
    .size-md_1(8);

    .to(767px,{
      position: absolute;
      height: @menu_height;
      top: @offset_one_side + 25px;
      opacity: 0;
      transition: all 0.9s ease 0s;
   });

    ul {
      padding: 0;
      list-style-type: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 90%;
      max-height: 100%;

      li {
        cursor: pointer;
        position: relative;
        margin: 5px;

        a {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        &:hover {
          transform: scale(1.04);
          transition: all 0.15s ease-in;
          box-shadow: 0px 24px 38px 0px rgba(0, 0, 0, 0.09);
        }

        &:hover > ul.sub-menu {
          max-height: 1000px;
          top: 110%;
          padding-top: 20px;
          padding-bottom: 20px;
          overflow: visible;
        }

        ul.sub-menu {
          position: absolute;
          // left: -50%;
          top: 100%;
          overflow: hidden;
          width: max-content;
          display: flex;
          flex-wrap: nowrap;
          flex-direction: column;
          align-items: flex-start;
          row-gap: 20px;
          max-height: 0px;
          transition: max-height 0.4s, padding 0.4s linear;
          background-color: #fff;
          box-shadow: 0px 24px 38px 0px rgba(0, 0, 0, 0.09);
          z-index: 10;

          padding: 0 20px;
          margin-top: 0px;

          ul.sub-menu {
            position: absolute;
            left: 110%;
            top: 0;
            padding-left: 0;
            padding-right: 0;
            overflow: hidden;
            max-width: 0;
            transition: max-width 0.4s, padding 0.4s linear;
            background-color: #ebebeb;
            box-shadow: 0px 24px 38px 0px rgba(0, 0, 0, 0.09);

            background-color: rgb(210, 247, 193);
          }

          :hover > ul.sub-menu {
            max-width: 1000px;
            padding-left: 20px;
            padding-right: 20px;
            overflow: visible;
          }

          & li:hover {
            transform: scale(1.07);
            transition: 0.2s;
          }
        }

        a {
          color: inherit;
        }
      }
    }
  }

  .to(767px,{
   .menu__sm {
      width: 100%;
      opacity: 1;
      transition: all 0.9s ease 0s;
      display: flex;
      align-items:center;
      background-color: rgb(255, 255, 255);
      padding: 0px 10px;
      background-color: #fff;

      ul {

         li {
            font-size: 13px;
            font-weight: 700;
            padding: 4px;
         }
      }
   }

});

  & > .search-icon,
  & > .cart {
    position: absolute;
    cursor: pointer;
    z-index: 5;
    .adaptive-prop(width, 55, 25);
    .adaptive-prop(height, 55, 25);
  }

  & > .search-icon {
    margin: 0px;
    right: 42px;
    .adaptive-prop(right, 120, 42);
    top: 17px;
  }

  & > .cart {
    top: 15px;
    .adaptive-prop(right, 40, 10);
  }

  .cart-book {
    .col();
    .size(3);
    .size-md_1(4);
    .size-md_2(8);
    .size-sm(10);
    .size-xxs(12);

    display: flex;
    align-items: center;
    justify-content: space-between;

    .md_2-block({
      justify-content: center;

      .search-icon {
         order: 2;
         margin-left: 20px
      }

      .cart {
         order: 3;
         margin-left: 20px !important;
      }

   });

    .heder-menu-button {
      font-family: Sintony, FiraSans;
      font-weight: bold;
      color: #fff;
      line-height: 2.143;
      letter-spacing: 1.5px;
      font-size: 14px;
      height: 47px;
      width: @bootton_width;

      margin-left: 10px;
      border: 1px solid #fea100;
      background-color: rgb(254, 161, 0);
      border-radius: 4px;
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      cursor: pointer;
      position: relative;
      padding: 0 5px;

      .md_2-block({
      width: @bootton_width + @offset*1.7;
      margin: 15px 0 15px 10px;

   });

      .to(390px, {
   font-size:12px;
   width: (@bootton_width + 60px);
});

      img {
        width: 20px;
        height: 17px;
      }

      &:after {
        content: '';
        width: 95%;
        height: 80%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: 1px solid #fff;
      }

      &:hover {
        border: 1px solid #fea100;
        background-color: #ffb12b;
        scale: 1.02;
      }

      &:active {
        box-shadow: 0 2px #ca8102;
        transform: translateY(2px);
      }
    }
  }
}

.search-icon {
  width: 20px;
  height: 20px;
  overflow: visible;

  &:hover {
    transform: scale(1.2);
    transition: 0.2s;
    cursor: pointer;
  }

  img {
    object-fit: contain;
  }
}

.cart {
  width: 25px;
  height: 25px;
  position: relative;
  margin: 2px;
  padding: 2px;
  overflow: visible;

  &:hover {
    transform: scale(1.2);
    transition: 0.2s;
  }

  a {
    display: block;
  }

  &__cercle {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background-color: #fe4c8d;
    position: absolute;
    left: 15px;
    top: -6px;

    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Sintony, FiraSans;
    font-size: 11px;

    z-index: 10;
  }
}
